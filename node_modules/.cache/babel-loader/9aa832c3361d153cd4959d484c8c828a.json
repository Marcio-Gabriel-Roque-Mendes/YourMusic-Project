{"ast":null,"code":"var _jsxFileName = \"/home/marcio/Documentos/Projetos/TodosProjetos/Portfolio/Project YourMusic/src/pages/Login.jsx\";\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { createUser } from '../services/userAPI'; // import {cap} from '../../src/images/'\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Login extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      isEnterButtonDisabled: true,\n      name: '',\n      loading: false,\n      redirect: false\n    };\n\n    this.onInputChange = _ref => {\n      let {\n        target\n      } = _ref;\n      const {\n        name\n      } = target;\n      const value = target.type === 'checkbox' ? target.checked : target.value;\n      this.setState({\n        [name]: value\n      }, () => {\n        this.validacaoCaracts();\n      });\n    };\n\n    this.validacaoCaracts = () => {\n      const {\n        name\n      } = this.state;\n      const minLengthCaracts = 3;\n\n      if (name.length >= minLengthCaracts) {\n        return this.setState({\n          isEnterButtonDisabled: false\n        });\n      }\n\n      return this.setState({\n        isEnterButtonDisabled: true\n      });\n    };\n\n    this.onEnterButtonClick = event => {\n      const {\n        name\n      } = this.state;\n      event.preventDefault();\n      this.setState({\n        loading: true\n      });\n      createUser({\n        name\n      }).then(() => {\n        this.setState({\n          loading: false,\n          redirect: true\n        });\n      });\n    };\n  }\n\n  render() {\n    const {\n      isEnterButtonDisabled,\n      name,\n      loading,\n      redirect\n    } = this.state;\n\n    if (loading) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Carregando...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 14\n      }, this);\n    }\n\n    if (redirect) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 14\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      \"data-testid\": \"page-login\",\n      children: /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"flex flex-col items-center justify-center \",\n        children: [/*#__PURE__*/_jsxDEV(\"header\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-6xl my-5 text-purple-800\",\n            children: \"YourMusic\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"mt-5 mb-5 text-center text-3xl\",\n              children: \"LOGIN\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"name\",\n                className: \"block text-center\",\n                children: [\"Nome de usu\\xE1rio:\", /*#__PURE__*/_jsxDEV(\"input\", {\n                  id: \"name\",\n                  name: \"name\",\n                  type: \"text\",\n                  \"data-testid\": \"login-name-input\",\n                  maxLength: 40,\n                  onChange: this.onInputChange,\n                  value: name,\n                  className: \" text-center block bg-gray-200 border-2 rounded border-violet-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 68,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                \"data-testid\": \"login-submit-button\",\n                type: \"submit\",\n                onClick: this.onEnterButtonClick,\n                disabled: isEnterButtonDisabled,\n                className: \"block bg-fuchsia-700 min-w-full rounded-xl text-white\",\n                children: \"Entrar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/home/marcio/Documentos/Projetos/TodosProjetos/Portfolio/Project YourMusic/src/pages/Login.jsx"],"names":["React","Component","Redirect","createUser","Login","state","isEnterButtonDisabled","name","loading","redirect","onInputChange","target","value","type","checked","setState","validacaoCaracts","minLengthCaracts","length","onEnterButtonClick","event","preventDefault","then","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { createUser } from '../services/userAPI';\n// import {cap} from '../../src/images/'\n\nclass Login extends Component {\n  state = {\n    isEnterButtonDisabled: true,\n    name: '',\n    loading: false,\n    redirect: false,\n  }\n\n  onInputChange = ({ target }) => {\n    const { name } = target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n\n    this.setState({\n      [name]: value,\n    }, () => { this.validacaoCaracts(); });\n  }\n\n  validacaoCaracts = () => {\n    const { name } = this.state;\n    const minLengthCaracts = 3;\n    if (name.length >= minLengthCaracts) {\n      return this.setState({ isEnterButtonDisabled: false });\n    }\n    return this.setState({ isEnterButtonDisabled: true });\n  }\n\n  onEnterButtonClick = (event) => {\n    const { name } = this.state;\n    event.preventDefault();\n    this.setState({ loading: true });\n    createUser({ name })\n      .then(() => {\n        this.setState({ loading: false, redirect: true });\n      });\n  }\n\n  render() {\n    const { isEnterButtonDisabled, name, loading, redirect } = this.state;\n\n    if (loading) {\n      return <div>Carregando...</div>;\n    }\n    if (redirect) {\n      return <Redirect to=\"/search\" />;\n    }\n    return (\n      <div data-testid=\"page-login\">\n        <section className='flex flex-col items-center justify-center '>\n        <header>\n        <h1 className=\"text-6xl my-5 text-purple-800\">\n         {/* <img src={imageMusica} alt=\"Logo de nota musical\" />  */}\n         YourMusic\n        </h1>\n        <hr />\n        </header>\n        \n        <main>\n          <div>\n            <h1 className='mt-5 mb-5 text-center text-3xl'>LOGIN</h1>\n            <form>\n              <label htmlFor=\"name\" className='block text-center' >\n                Nome de usuário:\n                <input\n                  id=\"name\"\n                  name=\"name\"\n                  type=\"text\"\n                  data-testid=\"login-name-input\"\n                  maxLength={ 40 }\n                  onChange={ this.onInputChange }\n                  value={ name }\n                  className=\" text-center block bg-gray-200 border-2 rounded border-violet-500\"\n                />\n              </label>\n              <br />\n\n              <button\n                data-testid=\"login-submit-button\"\n                type=\"submit\"\n                onClick={ this.onEnterButtonClick }\n                disabled={ isEnterButtonDisabled }\n                className=\"block bg-fuchsia-700 min-w-full rounded-xl text-white\"\n              >\n                Entrar\n              </button>\n\n            </form>\n          </div>\n        </main>\n        </section>\n      </div>\n    );\n  }\n}\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}